# Auto Memory 서브파일 템플릿

이 문서는 Claude Code Auto Memory의 서브파일(`~/.claude/projects/.../memory/`) 작성 시 참고할 수 있는 템플릿입니다.

> **중요**: Auto Memory는 AI가 자동으로 관리합니다. 수동으로 파일을 생성할 필요 없이, 세션을 반복하면서 AI가 패턴과 인사이트를 스스로 기록합니다. 이 템플릿은 "어떤 구조로 기록되는지"를 팀원에게 설명하기 위한 참고 자료입니다.

---

## MEMORY.md (메인 메모리)

매 대화 시작 시 자동 로드됩니다. **200줄 이내**로 유지하세요.

```markdown
# 프로젝트 메모리

## 프로젝트 개요
- **프로젝트명**: [이름]
- **기술 스택**: [React/Next.js, TypeScript, PostgreSQL 등]
- **현재 버전**: [v1.0.0]

## 핵심 파일 경로
- 엔트리포인트: `src/index.ts`
- 설정: `config/` 폴더
- API 라우트: `src/routes/`

## 주요 패턴
- [패턴 1 요약] → 상세: `patterns.md`
- [패턴 2 요약]

## 사용자 워크플로우 선호
- [예: "커밋 전 항상 테스트 실행", "bun 사용"]

## 상세 참조
- `patterns.md` - 코드 패턴 상세
- `debugging.md` - 디버깅 인사이트
- `architecture.md` - 아키텍처 결정
```

---

## patterns.md (코드 패턴 & 컨벤션)

프로젝트에서 반복 확인된 안정적 패턴을 기록합니다.

```markdown
# 코드 패턴 & 컨벤션

## API 패턴
- POST + action 패턴 사용 (GET/POST만 허용)
- 응답 형식: `{ success: boolean, data?: T, error?: string }`

## 컴포넌트 패턴
- [예: CVA 기반 variant 정의]
- [예: Zustand 스토어 네이밍 규칙]

## 에러 처리
- 시스템 경계에서만 검증 (사용자 입력, 외부 API)
- 내부 코드는 프레임워크 보장 신뢰

## 네이밍 규칙
- [프로젝트 고유 네이밍 패턴 기록]
```

---

## debugging.md (디버깅 인사이트)

반복 발생하는 문제와 해결 방법을 축적합니다.

```markdown
# 디버깅 인사이트

## 자주 발생하는 문제

### [문제 제목]
- **증상**: [에러 메시지 또는 동작]
- **원인**: [근본 원인]
- **해결**: [해결 방법]
- **확인일**: [YYYY-MM-DD]

## 환경별 주의사항
- [예: Windows에서 path.join 필수]
- [예: MSSQL 쿼리 시 TOP vs LIMIT]

## 의존성 주의
- [예: 특정 패키지 버전 호환성 이슈]
```

---

## architecture.md (아키텍처 결정)

프로젝트 구조와 아키텍처 관련 결정을 기록합니다.

```markdown
# 아키텍처 결정

## 시스템 구조
- [모놀리식/마이크로서비스]
- [주요 모듈 관계]

## 주요 결정
### [결정 제목]
- **선택**: [선택한 방식]
- **대안**: [고려한 대안]
- **이유**: [선택 이유]

## 데이터 흐름
- [핵심 데이터 흐름 요약]
```

---

## 기록 규칙 요약

| 규칙 | 설명 |
|------|------|
| MEMORY.md 200줄 제한 | 초과 시 서브파일로 분리 |
| CLAUDE.md와 중복 금지 | CLAUDE.md에 이미 있는 규칙은 Memory에 적지 않음 |
| 단일 세션 미검증 금지 | 여러 세션에 걸쳐 확인된 안정적 패턴만 기록 |
| 토픽별 정리 | 시간순(X), 주제별(O) |
| 사용자 요청 즉시 저장 | "이거 기억해줘" → 바로 MEMORY.md에 기록 |
