# 데이터 분류 및 처리 기준

<!-- jinhak_standard_version: 2.0 -->
<!-- document_type: security-data-classification -->
<!-- last_updated: 2026-02-20 -->

---

## 1. 개요

이 문서는 진학어플라이 서비스에서 다루는 데이터의 **분류 등급**, **AI 전달 가능 여부**, **처리 기준**을 정의합니다.

**목적:**
- AI(Claude Code) 협업 시 데이터 보안 기준 제공
- ISMS-P 인증 요건에 부합하는 데이터 분류 체계 수립
- 수험생 개인정보 보호를 위한 명확한 규칙 제시

**관련 법규:**
- 개인정보 보호법
- 정보통신망 이용촉진 및 정보보호 등에 관한 법률
- ISMS-P 인증 기준

**적용 대상:**
- AI에 전달되는 모든 컨텍스트 데이터
- AI가 생성하는 코드에서 참조하는 데이터
- 테스트/개발 환경에서 사용하는 데이터
- AI 작업 로그에 기록되는 데이터

---

## 2. 데이터 분류 등급

### 2.1 분류 체계

| 등급 | 영문 | 설명 | AI 전달 가능 여부 |
|------|------|------|------------------|
| **극비** | Strictly Confidential | 유출 시 법적 제재 또는 심각한 피해 발생 | **절대 금지** |
| **대외비** | Confidential | 내부용 민감 데이터, 유출 시 사업 피해 | **금지** |
| **내부용** | Internal | 업무 참고용, 외부 공개 부적절 | **마스킹 후 허용** |
| **공개** | Public | 일반에 공개 가능한 정보 | **허용** |

### 2.2 등급별 데이터 예시

#### 극비 (Strictly Confidential)

| 데이터 유형 | 구체적 예시 | 근거 |
|------------|-----------|------|
| 수험생 개인 식별 정보 | 주민등록번호, 여권번호 | 개인정보 보호법 |
| 수험생 성적 정보 | 수능 점수, 내신 등급, 모의고사 성적 | 교육 관련 민감 정보 |
| 입시 결과 정보 | 합격/불합격 결과, 지원 대학 목록 | 교육 관련 민감 정보 |
| 결제 핵심 정보 | 신용카드 전체 번호, CVV, 계좌 비밀번호 | 여신전문금융업법 |
| 인증 시크릿 | 프로덕션 DB 비밀번호, 마스터 API Key | 정보보호 관리체계 |

#### 대외비 (Confidential)

| 데이터 유형 | 구체적 예시 | 근거 |
|------------|-----------|------|
| 결제 처리 정보 | 결제 금액, 결제 일시, 환불 내역 | 사업 민감 정보 |
| 관리자 계정 정보 | 대학 관리자 ID, 내부 관리자 계정 | 접근 제어 |
| 시스템 접속 정보 | DB 접속 문자열, 내부 API 엔드포인트 | 인프라 보안 |
| 수험생 연락처 | 전화번호, 이메일 주소, 주소 | 개인정보 보호법 |
| 사업 계약 정보 | 대학별 계약 조건, 수수료율 | 영업 비밀 |

#### 내부용 (Internal)

| 데이터 유형 | 구체적 예시 | 근거 |
|------------|-----------|------|
| 지원 통계 | 전형별 지원자 수, 경쟁률 통계 | 업무 참고 |
| 시스템 설정 | 서비스 설정 값, 기능 플래그 | 운영 정보 |
| 비민감 사업 데이터 | 서비스 이용 통계, 페이지뷰 | 업무 참고 |
| 내부 문서 | 기술 문서, 회의록, 업무 매뉴얼 | 내부 정보 |
| 테스트 결과 | QA 테스트 결과, 성능 벤치마크 | 품질 관리 |

#### 공개 (Public)

| 데이터 유형 | 구체적 예시 | 근거 |
|------------|-----------|------|
| 대학 기본 정보 | 대학명, 학과명, 캠퍼스 위치 | 공개 정보 |
| 전형 정보 | 전형 유형, 모집 인원, 지원 일정 | 대학 공시 |
| 서비스 안내 | 이용 약관, 공지사항, FAQ | 공개 정보 |
| 기술 스택 | 사용 프레임워크, 오픈소스 라이선스 | 공개 정보 |

---

## 3. AI 컨텍스트 전달 규칙

### 3.1 절대 포함 금지 항목

다음 데이터는 **어떤 형태로든** AI 컨텍스트(프롬프트, 파일, 데이터)에 포함해서는 안 됩니다.

```
# AI 컨텍스트 절대 포함 금지
- 수험생 실제 개인정보 (이름, 주민번호, 연락처)
- 수험생 실제 성적 데이터 (수능 점수, 내신 등급)
- 수험생 실제 지원 이력 (지원 대학, 합격 결과)
- 실제 결제 정보 (카드 번호, 결제 내역)
- 관리자 실제 계정 정보 (ID, 비밀번호)
- 프로덕션 환경 변수 (.env 파일 내용)
- API Key, 시크릿 토큰, 인증서 파일
- 프로덕션 데이터베이스 덤프
```

### 3.2 가명화 규칙

내부용(Internal) 등급 데이터를 AI에 전달해야 하는 경우, 반드시 가명화 처리합니다.

**Faker.js를 활용한 가명화 패턴:**

```javascript
const { faker } = require('@faker-js/faker/locale/ko');

// 수험생 테스트 데이터 생성 예시
const testStudent = {
  name: faker.person.fullName(),           // "김지수" (가명)
  phone: faker.phone.number(),             // "010-1234-5678" (가명)
  email: faker.internet.email(),           // "jisoo.kim@example.com" (가명)
  birthDate: faker.date.birthdate(),       // 무작위 생년월일
  address: faker.location.streetAddress(), // 무작위 주소
};

// 성적 데이터 테스트용 (실제 데이터 아님)
const testScore = {
  korean: faker.number.int({ min: 50, max: 100 }),
  math: faker.number.int({ min: 50, max: 100 }),
  english: faker.number.int({ min: 1, max: 9 }),
};
```

**가명화 원칙:**
- 원본 데이터와 연결할 수 없도록 완전히 무작위 생성
- 데이터 형식(스키마)은 실제와 동일하게 유지
- 가명화된 데이터임을 명확히 표시 (변수명에 `test`, `mock`, `fake` 접두사)
- 가명화 매핑 테이블을 별도 보관하지 않음 (일방향 가명화)

### 3.3 테스트 데이터 생성 규칙

| 규칙 | 설명 |
|------|------|
| 실제 데이터 복사 금지 | 프로덕션 DB에서 테스트 환경으로 실제 데이터 복사 금지 |
| Faker.js 사용 의무 | 모든 테스트 데이터는 Faker.js 등 데이터 생성 라이브러리로 생성 |
| 시드 고정 | 재현 가능한 테스트를 위해 `faker.seed(12345)` 사용 |
| 경계값 포함 | 빈 문자열, 최대 길이, 특수문자 등 경계값 데이터 포함 |
| 한국어 로케일 | `@faker-js/faker/locale/ko` 사용하여 한국어 데이터 생성 |

---

## 4. 데이터 처리 원칙

### 4.1 최소 수집 원칙

- 목적 달성에 필요한 최소한의 데이터만 수집
- AI에 전달하는 컨텍스트도 작업에 필요한 최소한의 데이터만 포함
- 불필요한 필드는 제거한 후 전달

### 4.2 목적 제한 원칙

- 수집 목적 외의 용도로 데이터를 사용하지 않음
- AI 모델 학습 목적으로 사용자 데이터를 제공하지 않음
- 테스트/개발 목적이라도 실제 데이터 사용 금지

### 4.3 보관 기한

| 데이터 유형 | 보관 기한 | 파기 방법 |
|------------|----------|----------|
| 수험생 개인정보 | 서비스 이용 종료 후 1년 | 완전 삭제 (복구 불가) |
| 결제 정보 | 전자상거래법에 따라 5년 | 암호화 보관 후 삭제 |
| 접속 로그 | 통신비밀보호법에 따라 3개월 | 자동 삭제 |
| AI 작업 로그 | 90일 | 자동 삭제 |
| 보안 이벤트 로그 | 1년 | 보안 담당자 승인 후 삭제 |

### 4.4 파기 원칙

- 보관 기한이 만료된 데이터는 지체 없이 파기
- 전자적 파일은 복구 불가능한 방식으로 삭제
- 파기 기록을 남기고 보안 담당자에게 보고
- AI 세션 종료 시 세션 내 임시 데이터 자동 삭제

---

## 5. 로그 보안

### 5.1 로깅 필수 항목

AI 개발 환경에서 다음 항목은 **반드시** 로깅합니다.

| 항목 | 설명 | 형식 |
|------|------|------|
| 세션 시작/종료 | AI 세션의 시작 및 종료 시각 | ISO 8601 타임스탬프 |
| 접근 파일 목록 | AI가 읽기/쓰기한 파일 경로 | 절대 경로 |
| 실행 명령어 | AI가 실행한 시스템 명령어 | 명령어 (민감 인자 마스킹) |
| 보안 스캔 결과 | ESLint, Semgrep 등의 스캔 결과 | 통과/실패 + 항목 수 |
| 금지 패턴 탐지 | FORBIDDEN_PATTERNS 탐지 이벤트 | 패턴 번호 + 파일 경로 |
| 보안 이벤트 | BLOCK/WARN 조치 발생 | 이벤트 유형 + 상세 정보 |

### 5.2 로깅 금지 항목

다음 항목은 로그에 **절대 기록하지 않습니다**.

| 항목 | 이유 |
|------|------|
| 프롬프트 전문 | 민감 정보 포함 가능, 요약만 허용 |
| 소스 코드 전체 | 지적 재산권, 보안 취약점 노출 |
| 환경 변수 값 | 시크릿, 접속 정보 포함 |
| 인증 토큰/API Key | 재사용 공격 위험 |
| 수험생 개인정보 | 개인정보 보호법 위반 |
| 에러 스택 트레이스 전체 | 내부 구조 노출 (요약만 허용) |

### 5.3 로그 보존 기간

| 로그 유형 | 보존 기간 | 보관 위치 | 접근 권한 |
|-----------|----------|----------|----------|
| AI 작업 로그 | 90일 | 중앙 로그 시스템 | 개발팀 |
| 보안 이벤트 로그 | 1년 | 보안 로그 시스템 | 보안 담당자 |
| ISMS 감사 로그 | 관련 법령에 따름 | 감사 로그 시스템 | 감사 담당자 |
| 접속 로그 | 3개월 | 중앙 로그 시스템 | 인프라팀 |

### 5.4 로그 보안 조치

```
# 로그 보안 필수 조치
1. 로그 파일 접근 권한: 최소 권한 원칙 적용
2. 로그 전송: TLS 암호화 통신만 허용
3. 로그 저장: 무결성 검증 (해시 체인)
4. 로그 모니터링: 비정상 패턴 알림 설정
5. 로그 백업: 암호화된 백업본 별도 보관
```

---

## 6. 관련 문서 참조

| 문서 | 설명 |
|------|------|
| [AI_SECURITY_GUARDRAILS.md](./AI_SECURITY_GUARDRAILS.md) | 7-Layer Defense 마스터 문서 |
| [FORBIDDEN_PATTERNS.md](./FORBIDDEN_PATTERNS.md) | AI 금지 코드 패턴 카탈로그 |
| [INCIDENT_RESPONSE.md](./INCIDENT_RESPONSE.md) | 인시던트 대응 가이드 |
| [../SECURITY_ISMS.md](../SECURITY_ISMS.md) | ISMS 보안 가이드 |
| [../CLAUDE.md](../CLAUDE.md) | JINHAK 전사 AI 개발 표준 메인 문서 |

---

*이 문서는 [JINHAK 전사 AI 개발 표준](../CLAUDE.md) v2.0의 보안 상세 문서입니다.*
